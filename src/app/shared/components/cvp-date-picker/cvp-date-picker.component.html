<!-- <div class="date-picker-wrapper">
  <button class="date-picker-trigger" (click)="toggleDatePicker()">
    {{ selectedOption || (selectedDate ? (selectedDate | date:'mediumDate') : 'Select Date') }}
    <i class="material-icons">calendar_month</i>
  </button>
  
  <div class="date-picker-container" *ngIf="showDatePicker">
    <div class="date-picker-header">
      <div class="month-year">
        {{ currentMonthName }} {{ currentYear }}
      </div>
      <div class="navigation">
        <button class="nav-btn" (click)="previousMonth()">
          <i class="material-icons">chevron_left</i>
        </button>
        <button class="nav-btn" (click)="nextMonth()">
          <i class="material-icons">chevron_right</i>
        </button>
      </div>
    </div>

    <div class="date-picker-content">
      <div class="left-panel">
        <button class="option-btn" [class.selected]="selectedOption === 'Today'" (click)="selectToday()">Today</button>
        <button class="option-btn" [class.selected]="selectedOption === 'Yesterday'" (click)="selectYesterday()">Yesterday</button>
        <button class="option-btn" [class.selected]="selectedOption === 'This Week'" (click)="selectThisWeek()">This Week</button>
        <button class="option-btn" [class.selected]="selectedOption === 'This Month'" (click)="selectThisMonth()">This Month</button>
        <button class="option-btn" [class.selected]="selectedOption === 'Custom'" (click)="selectCustomRange()">Custom</button>
      </div>

      <div class="divider"></div>

      <div class="right-panel">
        <mat-calendar
          [(selected)]="selectedDate"
          (selectedChange)="onDateSelected($event)"
          [minDate]="minDate"
          [maxDate]="maxDate"
          [dateClass]="getDateClass()"
          [startAt]="calendarViewDate">
        </mat-calendar>
      </div>
    </div>

    <div class="date-picker-footer">
      <cvp-secondary-button
        label="Cancel"
        (buttonClick)="onCancel()">
      </cvp-secondary-button>
      <cvp-primary-button
        label="OK"
        (buttonClick)="onOk()">
      </cvp-primary-button>
    </div>
  </div>
</div>  -->

<div class="date-picker-wrapper">
  <button class="date-picker-trigger" (click)="toggleDatePicker()">
    {{ selectedOption || (selectedDate ? (selectedDate | date:'mediumDate') : 'Select Date') }}
    <i class="material-icons">calendar_month</i>
  </button>
  
  <div class="date-picker-container" *ngIf="showDatePicker">
    <div class="date-picker-header">
      <div class="month-year">
        {{ currentMonthName }} {{ currentYear }}
      </div>
      <div class="navigation">
        <button class="nav-btn" (click)="previousMonth()">
          <i class="material-icons">chevron_left</i>
        </button>
        <button class="nav-btn" (click)="nextMonth()">
          <i class="material-icons">chevron_right</i>
        </button>
      </div>
    </div>

    <div class="date-picker-content">
      <div class="left-panel">
        <button class="option-btn" [class.selected]="selectedOption === 'Today'" (click)="selectToday()">Today</button>
        <button class="option-btn" [class.selected]="selectedOption === 'Yesterday'" (click)="selectYesterday()">Yesterday</button>
        <button class="option-btn" [class.selected]="selectedOption === 'This Week'" (click)="selectThisWeek()">This Week</button>
        <button class="option-btn" [class.selected]="selectedOption === 'This Month'" (click)="selectThisMonth()">This Month</button>
        <button class="option-btn" [class.selected]="selectedOption === 'Custom'" (click)="selectCustomRange()">Custom</button>
      </div>

      <div class="divider"></div>

      <div class="right-panel">
        <!-- Use *ngIf to completely rebuild calendar -->
        <mat-calendar
          *ngIf="showCalendar"
          [(selected)]="selectedDate"
          (selectedChange)="onDateSelected($event)"
          [minDate]="minDate"
          [maxDate]="maxDate"
          [dateClass]="getDateClass"
          [startAt]="calendarViewDate">
        </mat-calendar>
      </div>
    </div>

    <div class="date-picker-footer">
      <cvp-secondary-button
        label="Cancel"
        (buttonClick)="onCancel()">
      </cvp-secondary-button>
      <cvp-primary-button
        label="OK"
        (buttonClick)="onOk()">
      </cvp-primary-button>
    </div>
  </div>
</div>