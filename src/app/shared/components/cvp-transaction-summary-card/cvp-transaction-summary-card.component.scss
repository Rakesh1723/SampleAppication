@use '../../styles/variables' as *;
@use '@angular/material' as mat;

// :host {
//   display: block;
//   width: 100%;
//   margin-bottom: 1.5rem;

//   &:last-child {
//       margin-bottom: 0;
//   }
// }

// .card {
//   width: 100%;
//   min-width: fit-content;
//   background-color: $color-white;
//   border: 0.0625rem solid #e5e7eb;
//   border-radius: 0rem;
//   overflow: visible;

//   .container-fluid {
//       min-width: 0;
//       width: 100%;
//   }

//   .row {
//       display: flex;
//       flex-wrap: nowrap;
//       margin: 0;
//       width: 100%;
//   }

//   .col-9 {
//       flex: 0 0 75%;
//       max-width: 75%;
//       padding: 0;
//       min-width: 0;
//   }

//   .col-3 {
//       flex: 0 0 25%;
//       max-width: 25%;
//       padding: 0;
//       display: flex;
//       align-items: center;
//       justify-content: center;
//   }

//   &.card-active {
//       background-color: $color-nordic;

//       .title,
//       .field-label,
//       .field-value {
//           color: $color-white !important;
//       }

//       .field-red {

//           .field-label,
//           .field-value {
//               color: #ef4444 !important;
//           }
//       }
//   }

//   &.card-disabled {
//       opacity: 0.5;
//       filter: grayscale(100%);
//   }
// }

// .card-container {
//   display: flex;
//   align-items: stretch;
//   padding: 1rem;
//   gap: 1.5rem;
// }

// .content-wrapper {
//   height: 100%;
//   min-width: 0;
//   flex: 1;
// }

// .title-section {
//   display: flex;
//   align-items: center;
//   flex-wrap: nowrap;
//   gap: 0.5rem;
//   min-width: fit-content;

//   .title {
//       font-size: 0.813rem;
//       font-weight: 600;
//       color: $text-primary;
//       margin: 0;
//       line-height: 1.5rem;
//       white-space: normal;
//       word-wrap: break-word;
//       min-width: fit-content;
//   }

//   .status-badge {
//       display: inline-flex;
//       align-items: center;
//       height: 1.5rem;
//       padding: 0 0.5rem;
//       font-size: 0.688rem;
//       font-weight: 500;
//       color: #04636D;
//       line-height: 1;
//       border: 0.0625rem solid #04636D !important;
//       border-radius: 1.25rem;
//       background: #E6F5F5 !important;
//       white-space: nowrap;
//   }
// }

// .fields-row {
//   display: flex;
//   gap: 3rem;
//   min-width: fit-content;
//   flex-wrap: nowrap;
// }

// .field {
//   flex: 1;
//   min-width: fit-content;
//   white-space: nowrap;

//   .field-label {
//       font-size: 0.688rem;
//       color: $text-secondary;
//       font-weight: 500;
//       line-height: 1.2;
//       margin-bottom: 0.5rem;
//   }

//   .field-value {
//       font-size: 0.688rem;
//       color: $text-primary;
//       font-weight: 600;
//       line-height: 1.2;
//   }
// }

// .field-red {

//   .field-label,
//   .field-value {
//       color: #ef4444 !important;
//   }
// }

// .chart-wrapper {
//   width: 100%;
//   height: 100%;
//   display: flex;
//   align-items: center;
//   justify-content: center;
//   padding-left: 1rem;

//   canvas {
//       width: 4rem !important;
//       height: 4rem !important;
//   }
// }

// @media screen and (max-width: 1200px) {
//   .card {
//       max-width: none;
//   }

//   .fields-row {
//       gap: 2rem;
//   }
// }

// @media screen and (max-width: 992px) {
//   .card {
//       .row {
//           flex-wrap: wrap;
//       }

//       .col-9,
//       .col-3 {
//           flex: 0 0 100%;
//           max-width: 100%;
//       }
//   }

//   .chart-wrapper {
//       padding-left: 0;
//       margin-top: 1rem;

//       canvas {
//           width: 4rem !important;
//           height: 4rem !important;
//       }
//   }
// }

// @media screen and (max-width: 768px) {
//   .title-section {
//       gap: 0.375rem;

//       .title {
//           font-size: 0.75rem;
//       }

//       .status-badge {
//           padding: 0 0.375rem;
//           font-size: 0.625rem;
//       }
//   }

//   .field {

//       .field-label,
//       .field-value {
//           font-size: 0.625rem;
//       }
//   }
// }
////////////////////////////////
// :host {
//     display: block;
//     width: 100%;
//     margin-bottom: 1.5rem;
    
//     &:last-child {
//         margin-bottom: 0;
//     }
//   }
  
//   .card {
//     width: 100%;
//     min-width: fit-content;
//     background-color: $color-white;
//     border: 0.0625rem solid #e5e7eb;
//     border-radius: 0rem;
//     overflow: hidden; // Changed from visible to hidden to prevent scrollbars
    
//     .container-fluid {
//         min-width: 0;
//         width: 100%;
//     }
    
//     .row {
//         display: flex;
//         flex-wrap: nowrap;
//         margin: 0;
//         width: 100%;
//     }
    
//     .col-9 {
//         flex: 0 0 75%;
//         max-width: 75%;
//         padding: 0;
//         min-width: 0;
//         overflow: visible; // Allow badges to overlap when needed
//     }
    
//     .col-3 {
//         flex: 0 0 25%;
//         max-width: 25%;
//         padding: 0;
//         display: flex;
//         align-items: center;
//         justify-content: center;
//         overflow: hidden; // Keep this to prevent chart overflow only
//     }
    
//     &.card-active {
//         background-color: $color-nordic;
        
//         .title,
//         .field-label,
//         .field-value {
//             color: $color-white !important;
//         }
        
//         .field-red {
//              .field-label,
//             .field-value {
//                 color: #ef4444 !important;
//             }
//         }
//     }
    
//     &.card-disabled {
//         opacity: 0.5;
//         filter: grayscale(100%);
//     }
//   }
  
//   .card-container {
//     display: flex;
//     align-items: stretch;
//     padding: 1rem;
//     gap: 1.5rem;
//   }
  
//   .content-wrapper {
//     height: 100%;
//     min-width: 0;
//     flex: 1;
//   }
  
//   .title-section {
//     display: flex;
//     align-items: center;
//     flex-wrap: nowrap;
//     gap: 0.5rem;
//     min-width: fit-content;
//     overflow: visible; // Allow badges to show and overlap when needed
//     position: relative; // Enable z-index stacking for overlapping badges
    
//     .title {
//         font-size: 0.813rem;
//         font-weight: 600;
//         color: $text-primary;
//         margin: 0;
//         line-height: 1.5rem;
//         white-space: normal;
//         word-wrap: break-word;
//         min-width: fit-content;
//     }
    
//     .status-badge {
//         display: inline-flex;
//         align-items: center;
//         height: 1.5rem;
//         padding: 0 0.5rem;
//         font-size: 0.688rem;
//         font-weight: 500;
//         color: #04636D;
//         line-height: 1;
//         border: 0.0625rem solid #04636D !important;
//         border-radius: 1.25rem;
//         background: #E6F5F5 !important;
//         white-space: nowrap;
//         flex-shrink: 0; // Prevent badges from shrinking
//         z-index: 10; // Ensure badges appear above other content when overlapping
//         position: relative; // Enable z-index
//     }
//   }
  
//   .fields-row {
//     display: flex;
//     gap: 3rem;
//     min-width: fit-content;
//     flex-wrap: nowrap;
//   }
  
//   .field {
//     flex: 1;
//     min-width: fit-content;
//     white-space: nowrap;
    
//     .field-label {
//         font-size: 0.688rem;
//         color: $text-secondary;
//         font-weight: 500;
//         line-height: 1.2;
//         margin-bottom: 0.5rem;
//     }
    
//     .field-value {
//         font-size: 0.688rem;
//         color: $text-primary;
//         font-weight: 600;
//         line-height: 1.2;
//     }
//   }
  
//   .field-red {
//     .field-label,
//     .field-value {
//         color: #ef4444 !important;
//     }
//   }
  
//   .chart-wrapper {
//     width: 100%;
//     height: 100%;
//     display: flex;
//     align-items: center;
//     justify-content: center;
//     padding-left: 1rem;
//     position: relative; // Added for better positioning control
    
//     canvas {
//         // Force square dimensions to maintain circle shape
//         width: 4rem !important;
//         height: 4rem !important;
//         // Ensure canvas maintains aspect ratio during zoom
//         aspect-ratio: 1 / 1 !important;
//         max-width: 4rem !important;
//         max-height: 4rem !important;
//         min-width: 4rem !important;
//         min-height: 4rem !important;
//         // Prevent canvas from being distorted
//         object-fit: contain;
//         flex-shrink: 0; // Prevent shrinking
//     }
//   }
  
//   // Media Queries - Updated to maintain circle shape and prevent scrollbars
//   @media screen and (max-width: 1200px) {
//     .card {
//         max-width: none;
//         overflow: hidden; // Ensure no scrollbars at this breakpoint
//     }
    
//     .fields-row {
//         gap: 2rem;
//     }
    
//     .chart-wrapper {
//         canvas {
//             width: 3.5rem !important;
//             height: 3.5rem !important;
//             max-width: 3.5rem !important;
//             max-height: 3.5rem !important;
//             min-width: 3.5rem !important;
//             min-height: 3.5rem !important;
//         }
//     }
//   }
  
//   @media screen and (max-width: 992px) {
//     .card {
//         overflow: hidden; // Prevent scrollbars at this breakpoint
        
//         .row {
//             flex-wrap: wrap;
//         }
        
//         .col-9,
//         .col-3 {
//             flex: 0 0 100%;
//             max-width: 100%;
//         }
//     }
    
//     .chart-wrapper {
//         padding-left: 0;
//         margin-top: 1rem;
//         justify-content: center; // Center the chart
        
//         canvas {
//             width: 4rem !important;
//             height: 4rem !important;
//             max-width: 4rem !important;
//             max-height: 4rem !important;
//             min-width: 4rem !important;
//             min-height: 4rem !important;
//             aspect-ratio: 1 / 1 !important;
//         }
//     }
//   }
  
//   @media screen and (max-width: 768px) {
//     .title-section {
//         gap: 0.375rem;
        
//         .title {
//             font-size: 0.75rem;
//         }
        
//         .status-badge {
//             padding: 0 0.375rem;
//             font-size: 0.625rem;
//         }
//     }
    
//     .field {
//         .field-label,
//         .field-value {
//             font-size: 0.625rem;
//         }
//     }
    
//     .chart-wrapper {
//         canvas {
//             width: 3rem !important;
//             height: 3rem !important;
//             max-width: 3rem !important;
//             max-height: 3rem !important;
//             min-width: 3rem !important;
//             min-height: 3rem !important;
//         }
//     }
//   }
  
//   // Additional zoom-specific media queries to maintain circle shape
//   @media screen and (min-resolution: 1.25dppx) {
//     .chart-wrapper canvas {
//         image-rendering: -webkit-optimize-contrast;
//         image-rendering: crisp-edges;
//     }
//   }
//////////////////////
//   // Card Component SCSS
//   :host {
//     display: block;
//     width: 100%;
//     margin-bottom: 1.5rem;
    
//     &:last-child {
//         margin-bottom: 0;
//     }

//   }
  
//   .card {
//     width: 100%;
//     min-width: fit-content;
//     background-color: $color-white;
//     border: 0.0625rem solid #e5e7eb;
//     border-radius: 0rem;
//     overflow: hidden; // Changed from visible to hidden to prevent scrollbars
    
//     .container-fluid {
//         min-width: 0;
//         width: 100%;
//     }
    
//     .row {
//         display: flex;
//         flex-wrap: nowrap;
//         margin: 0;
//         width: 100%;
//     }
    
//     .col-9 {
//         flex: 0 0 75%;
//         max-width: 75%;
//         padding: 0;
//         min-width: 0;
//         overflow: visible; // Allow badges to overlap when needed
//     }
    
//     .col-3 {
//         flex: 0 0 25%;
//         max-width: 25%;
//         padding: 0;
//         display: flex;
//         align-items: center;
//         justify-content: center;
//         overflow: hidden; // Keep this to prevent chart overflow only
//     }
    
//     &.card-active {
//         background-color: $color-nordic;
        
//         .title,
//         .field-label,
//         .field-value {
//             color: $color-white !important;
//         }
        
//         .field-red {
//              .field-label,
//             .field-value {
//                 color: #ef4444 !important;
//             }
//         }
//     }
    
//     &.card-disabled {
//         opacity: 0.5;
//         filter: grayscale(100%);
//     }
//   }
  
//   .card-container {
//     display: flex;
//     align-items: stretch;
//     padding: 1rem;
//     gap: 1.5rem;
//   }
  
//   .content-wrapper {
//     height: 100%;
//     min-width: 0;
//     flex: 1;
//   }
  
//   .title-section {
//     display: flex;
//     align-items: center;
//     flex-wrap: nowrap;
//     gap: 0.5rem;
//     min-width: fit-content;
//     overflow: visible; // Allow badges to show and overlap when needed
//     position: relative; // Enable z-index stacking for overlapping badges
    
//     .title {
//         font-size: 0.813rem;
//         font-weight: 600;
//         color: $text-primary;
//         margin: 0;
//         line-height: 1.5rem;
//         white-space: normal;
//         word-wrap: break-word;
//         min-width: fit-content;
//     }
    
//     .status-badge {
//         display: inline-flex;
//         align-items: center;
//         height: 1.5rem;
//         padding: 0 0.5rem;
//         font-size: 0.688rem;
//         font-weight: 500;
//         color: #04636D;
//         line-height: 1;
//         border: 0.0625rem solid #04636D !important;
//         border-radius: 1.25rem;
//         background: #E6F5F5 !important;
//         white-space: nowrap;
//         flex-shrink: 0; // Prevent badges from shrinking
//         z-index: 10; // Ensure badges appear above other content when overlapping
//         position: relative; // Enable z-index
//     }
//   }
  
//   .fields-row {
//     display: flex;
//     gap: 3rem;
//     min-width: fit-content;
//     flex-wrap: nowrap;
//   }
  
//   .field {
//     flex: 1;
//     min-width: fit-content;
//     white-space: nowrap;
    
//     .field-label {
//         font-size: 0.688rem;
//         color: $text-secondary;
//         font-weight: 500;
//         line-height: 1.2;
//         margin-bottom: 0.5rem;
//     }
    
//     .field-value {
//         font-size: 0.688rem;
//         color: $text-primary;
//         font-weight: 600;
//         line-height: 1.2;
//     }
//   }
  
//   .field-red {
//     .field-label,
//     .field-value {
//         color: #ef4444 !important;
//     }
//   }
  
//   .chart-wrapper {
//     width: 100%;
//     height: 100%;
//     display: flex;
//     align-items: center;
//     justify-content: center;
//     padding-left: 1rem;
//     position: relative; // Added for better positioning control
    
//     canvas {
//         // Force square dimensions to maintain circle shape
//         width: 4rem !important;
//         height: 4rem !important;
//         // Ensure canvas maintains aspect ratio during zoom
//         aspect-ratio: 1 / 1 !important;
//         max-width: 4rem !important;
//         max-height: 4rem !important;
//         min-width: 4rem !important;
//         min-height: 4rem !important;
//         // Prevent canvas from being distorted
//         object-fit: contain;
//         flex-shrink: 0; // Prevent shrinking
//     }
//   }
  
//   // Media Queries - Updated to maintain circle shape and prevent scrollbars
//   @media screen and (max-width: 1200px) {
//     .card {
//         max-width: none;
//         overflow: hidden; // Ensure no scrollbars at this breakpoint
//     }
    
//     .fields-row {
//         gap: 2rem;
//     }
    
//     .chart-wrapper {
//         canvas {
//             width: 3.5rem !important;
//             height: 3.5rem !important;
//             max-width: 3.5rem !important;
//             max-height: 3.5rem !important;
//             min-width: 3.5rem !important;
//             min-height: 3.5rem !important;
//         }
//     }
//   }
  
//   @media screen and (max-width: 992px) {
//     .card {
//         overflow: hidden; // Prevent scrollbars at this breakpoint
        
//         .row {
//             flex-wrap: wrap;
//         }
        
//         .col-9,
//         .col-3 {
//             flex: 0 0 100%;
//             max-width: 100%;
//         }
//     }
    
//     .chart-wrapper {
//         padding-left: 0;
//         margin-top: 1rem;
//         justify-content: center; // Center the chart
        
//         canvas {
//             width: 4rem !important;
//             height: 4rem !important;
//             max-width: 4rem !important;
//             max-height: 4rem !important;
//             min-width: 4rem !important;
//             min-height: 4rem !important;
//             aspect-ratio: 1 / 1 !important;
//         }
//     }
//   }
  
//   @media screen and (max-width: 768px) {
//     .title-section {
//         gap: 0.375rem;
        
//         .title {
//             font-size: 0.75rem;
//         }
        
//         .status-badge {
//             padding: 0 0.375rem;
//             font-size: 0.625rem;
//         }
//     }
    
//     .field {
//         .field-label,
//         .field-value {
//             font-size: 0.625rem;
//         }
//     }
    
//     .chart-wrapper {
//         canvas {
//             width: 3rem !important;
//             height: 3rem !important;
//             max-width: 3rem !important;
//             max-height: 3rem !important;
//             min-width: 3rem !important;
//             min-height: 3rem !important;
//         }
//     }
//   }
  
//   // Additional zoom-specific media queries to maintain circle shape
//   @media screen and (min-resolution: 1.25dppx) {
//     .chart-wrapper canvas {
//         image-rendering: -webkit-optimize-contrast;
//         image-rendering: crisp-edges;
//     }
//   }
//////////////////
:host {
    display: block;
    width: 100%;
    // margin-bottom: 1.5rem;

    &:last-child {
        margin-bottom: 0;
    }
}

.card {
    width: 100%;
    min-width: fit-content;
    background-color: $color-white;
    border: 0.0625rem solid #e5e7eb;
    border-radius: 0rem;
    overflow: visible;

    .container-fluid {
        min-width: 0;
        width: 100%;
    }

    .row {
        display: flex;
        flex-wrap: nowrap;
        margin: 0;
        width: 100%;
    }

    .col-9 {
        flex: 0 0 75%;
        max-width: 75%;
        padding: 0;
        min-width: 0;
    }

    .col-3 {
        flex: 0 0 25%;
        max-width: 25%;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    &.card-active {
        background-color: $color-nordic;
        cursor: pointer;

        .title,
        .field-label,
        .field-value {
            color: $color-white !important;
        }

        .field-red {

            .field-label,
            .field-value {
                color: #ef4444 !important;
            }
        }
    }

    &.card-disabled {
        opacity: 0.5;
        filter: grayscale(100%);
    }
}

.card-container {
    display: flex;
    align-items: stretch;
    padding: 1rem;
    gap: 1.5rem;
}

.content-wrapper {
    height: 100%;
    min-width: 0;
    flex: 1;
}

.title-section {
    display: flex;
    align-items: center;
    flex-wrap: nowrap;
    gap: 0.5rem;
    min-width: fit-content;

    .title {
        font-size: 0.813rem;
        font-weight: 600;
        color: $text-primary;
        margin: 0;
        line-height: 1.5rem;
        white-space: normal;
        word-wrap: break-word;
        min-width: fit-content;
    }

    .status-badge {
        display: inline-flex;
        align-items: center;
        height: 1.5rem;
        padding: 0 0.5rem;
        font-size: 0.688rem;
        font-weight: 500;
        color: #04636D;
        line-height: 1;
        border: 0.0625rem solid #04636D !important;
        border-radius: 1.25rem;
        background: #E6F5F5 !important;
        white-space: nowrap;
    }
}

.fields-row {
    display: flex;
    gap: 3rem;
    min-width: fit-content;
    flex-wrap: nowrap;
}

.field {
    flex: 1;
    min-width: fit-content;
    white-space: nowrap;

    .field-label {
        font-size: 0.688rem;
        color: $text-secondary;
        font-weight: 500;
        line-height: 1.2;
        margin-bottom: 0.5rem;
    }

    .field-value {
        font-size: 0.688rem;
        color: $text-primary;
        font-weight: 600;
        line-height: 1.2;
    }
}

.field-red {

    .field-label,
    .field-value {
        color: #ef4444 !important;
    }
}

.chart-wrapper {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding-left: 1rem;
    position: relative;

    canvas {
        width: 4rem !important;
        height: 4rem !important;
        aspect-ratio: 1 / 1 !important;
        max-width: 4rem !important;
        max-height: 4rem !important;
        min-width: 4rem !important;
        min-height: 4rem !important;
        object-fit: contain;
        flex-shrink: 0;
    }
}

@media screen and (min-resolution: 120dpi),
screen and (min-width: 1250px) and (max-width: 1300px) {
    .card {
        max-width: 100%;
        min-width: 0;
        overflow: hidden;
    }

    .fields-row {
        flex-wrap: nowrap;
        gap: 1.25rem;
        min-width: 0;
        justify-content: flex-start;
    }

    .row {
        flex-wrap: nowrap !important;
    }

    .col-9 {
        flex: 0 0 75%;
        max-width: 75%;
        min-width: 0;
        padding-right: 0.25rem;
    }

    .col-3 {
        flex: 0 0 25%;
        max-width: 25%;
        min-width: 0;
        padding: 0;
    }

    .chart-wrapper {
        padding-left: 0;
        margin-right: -0.5rem;

        canvas {
            width: 3.25rem !important;
            height: 3.25rem !important;
            min-width: 3.25rem !important;
            min-height: 3.25rem !important;
            max-width: 3.25rem !important;
            max-height: 3.25rem !important;
        }
    }

    .card-container {
        gap: 0.75rem;
        padding: 0.75rem;
    }

    .title-section {
        gap: 0.25rem;
        min-width: 0;

        .title {
            font-size: 0.75rem;
            min-width: 0;
            white-space: nowrap;
        }

        .status-badge {
            padding: 0 0.275rem;
            font-size: 0.625rem;
        }
    }

    .field {
        min-width: 0;
        flex: 1 1 auto;

        .field-label,
        .field-value {
            font-size: 0.625rem;
            white-space: nowrap;
        }
    }
}
